language: go
go:
- 1.7
- 1.6.3
- 1.6.2
env:
  global:
  - GOARCH=amd64
  - GO_FOR_RELEASE=1.7
  - ENIGM4_SMTP_ADDRESS=smtp.mailtrap.io
  - ENIGM4_SMTP_PORT=2525
  - secure: XXIC4p9OVklr44HzE7zW5INInDN1N+WgCqrCEFwpN/Kk00unYdaV1LYabSENPEvR9UNS1ya1Bx+7M1hQAHXQnBVtrdYYdgkZvgj6QMFWWm4UTUIk+wqa1lsuXOEWAmsonAjx7XMITHyw9pDfNTwIEuU0XZIqzadAb5F6d4ES/pw9VcdhXJaNyIwRXLDSPDAa0mwnNJB9WBpKNiL5GTCkEHpp8O01eowzBuNGg/+b7WydjQpcu6KEez6IbvdoMQcnliPYdE+qpThV7LC1z3INgJs4HFB2JwKBZGYhc/6RwL7d3T06ZaRikBhX4B9KTi02RqbqacRcSJOcdyH+EoNbU9yW04C+WCF11mZn1fMLOnzR0kiadnyCagVBPe1mLiIYIfOM3bv2d5REa8zshbMIL2Y0Tx9k9P5KRNoiBfp3l8Ql1tlOuIPiVzDBMAvSLodxc6x9l2ySOaKL80ulc7Grr60y6jt5usaddjyqS4EIQsKQCxyUbraPzv1JiaN3CPYd5YXFVEIz0G7ERteXtzdB6AWMpIUIUp5ymYlxMWic3ei+2CTDoANCsNxmeZElMOY6v4/5BVgPwE0mbY2TaL9EpvJujB8KYe0t50OZ+ebChK50Q1jSfF8O+gU4rbesU1GnD0m5PKfEmFP5Gybqmz/XadgOQl2KCpLu3aHkdO3UTsQ=
  - secure: fX6ZpYghS3DUcc/pNjwDNA4qwl8cQdfoYN9wnhEimymiU5NFtI9spQg/FlI9kMfQIW21QrhFvMFcMdXgEbdVnp98tcApxrCqU1kFU/LwhcC/r+7GOwwwreuTt6XLd8QMlVP9LhIgEqm0ic5grFnd8GfyEIhSSD8/4bXYHxE9ScSdspZntB3rbAJgfcjMqe9yNPrekkT9XC+F7dbnDmgdPuDwWLa0tvE6474d7bsoRtWtSTKETdZaCNa9LR53evgXpxOQ3qep6utBD9FbOSlj7W6P4jbzPBrTfpG04wl3LdhCob77GsBP2NUIhJK90OSsluBYHTUc6u08nQ0uJ/lKgPuKgR6PAutG+i9V+sY14cAEs9KIGOsLbp5ZZWg5/4OuCkZe8ULBxs+D1g4kVk+pJ1vqxLOd2AZG1t2HpQiJOYr/Jdmrs7R8L05bpA030tYiszcJ+g5MZkExPkOmbHONKbTNas+K4S5tzCDXe2ghtcCJ1sFozTrX5LEIU+652m9DM77pqesqmKW4jcCK3T2tJgdN8H2dVdtuGDG2D6/Rk8rb6Uw4wjxRjneipM5bSo3gQQ75oMwfVyWZzHP067CkIjd1ZRbs1moBXtQv8y9Y4QQLf2YA08Pc31RMCtXBlV/Dvp0yjvhRweok3ZkCwWL1Y3fKji4eAmuUuFkvkw/W5wk=
  - secure: ZscCOJ2zqUo1ZjL5F5WHE9umBEE2nCB+hvbNTJE+M7tyHS5F0/PRKqwj4epa2X4++JIJt2Bz5592yqMuS/x0OC3Hv+Bpvgqdg/unCM6GUJg7KkOL8uXAFu1ecIxc5Oh7F40wr5Hcdi5YuwKzqWld13H9MfbGqU+CJnJMOsu9zyyLlAx0J1X2LMWvEtaqrKaGCnG1qsETnnNQu3kQ9DxycTVmGGEATJsJbAS9tZ0HywTAZtvpzEKODMCW7HDOCPhF9RJiMnuMXX++NLtbz4/AzchVWi0kgKaQGWdEvtDI8pA811mWMZwK/PB3LlEskRDpdogUQnMtFF1u0yLkoZ4nmhIURvEUVmG+j80H/EwYw0UVniGIThi84zge5zlso+JtOq7RZjIFKTlDeXNZdYqLSwW/mDsy/AwxgKgvrih2ipLS3b4kOBGs5KiQK6JmbOecVxL+QqwOrsyFxasoNUGzBrkfZKN4tCgB1SAi3uOUgK4i2015vMCNxewNEonw2AyD8WgulAK1TD1Nzk9h+kQRxjDs2lLpcka1prI5sQ9OsHFOk2hY2CL9pq8g1Vifcfh8925xtb5i5zf45hWiBcrGD3T2l0nd9EUE3CvzQ8+qKwvlgNiyCuvcrIqIgU4jpzHC9rhbOyHrtcDDVYEJ+GHEMpN7MHwh2rRXflwoSMK+JMc=
  - secure: mvg8A2n3sPLwmFazXUpcI/wQZ+Up6+gjicMEW7IqUO3DLSl+u+AEj6wrVWpMlcB3ROSJH3Pj/7NDDoaB2Flxe3jiButwWcsSttp0K2hcflhtTVRJZrhC6gaPs65L00yOJquUlQfFI8HknNUNKcMVGxoT4xH6k5evzst9e2/9CMfATL4xRcOTQx3LWiikVciyJaZqs5DXBGXSM6DedHTS5e6zsxALsCIN8GUJHdbTHG8WT1ecINd63V+QcWkLuIdOhAgVkZyLXhX8C6PEkE50kNR495ZilgkR13BLP919aGDCVD3RkMGiNBtGOGMLMvxlTFBn0OcUEqAwXgMoHZ6CutoqZvxB5occu7LZVnwTcs7b1Ujt48/f2E8E0uWZzOiIJuKSsvJ3yckWMLDDN9akCl8TZvTFmLB4CHEFMMCzGLq0LASqdiRIWB0iSwn7Vc57ljbnXHSYprG2+7hCNvYyoBFGlG88JwTA5OjMpHVPzJh/BG4QKZc3K5heUx1YYDUzC4ao9KHpmgymkapMQn4zhKyhLF6vzyyrJxhZLmZimIMltIarAAqOKe1qXu3DzZjYfxWqDvvBQVWcj+8KIQdvgQZVrrbASQ125/Msd16jQU8RKgHPjFWupEb9ueEa5gccCgCuU9GbA2/v4vClXi+pA39+NhGGYQB46BP/UT3d7o8=
  - secure: nGLgrRc01XjSai0pbrZJkqtAvcco08pC7n56gaBU6XsoOGVyQoQJ5M26mhTYOzKxNaESjH+pNQh3fdRY5FZ5nwat9MPnsDaCXIaX+ghFLrwBEuCMCTJYOgTgPWZXrTMPU9YY0n8L8KVzBUod9KC6pI9rQlLHuYWxm7rRkaq+5qvcbKR0giurMk2R1VjPFzcGfS8khhCFyFaYQkUbZbY8OkjsL7DnowsyjnzbzV59V0Sh5IvDaOWVE7DnWZYxxNsfxscsACCCvkE1TzD0hN+1HfkiB/6IQK7NEj4KaLcyuv936nB9g9CFiGmnQrMzb/6qlCxqM168/y9xrAjgvvNb2DCm3fiNeiVgySR8JJdni2GLn5d4+0/IyU4fO+5yKbwXXFZ96SI0WTHBGe6sWD9tuw48ik9We8/pJijUawsr3cjuftuyagk05Fn5mTyJ104MromlXas0lA6373NSi4vkjXckQWo2s9mjebyrJ0riT8ujN+gCm4iLB1gi2ABWKKMaTxrJoN0crB6cr5d0mBWOHX2RkOdU4kV0eUrn146isMJjJMy6kqQhwuiHVy6gd+sH6B9REIPDcuxZP52LzUDT51z7GCtJcUVVOwmyCEEAJWsagz/QsSvTRr6117MROY85dd1xTzYTv+NjVsBvsksgLkHlns8/U4nJGaRbZaziR+g=
script:
- make test
after_success:
- make install
notifications:
  email:
    on_success: change
    on_failure: always
